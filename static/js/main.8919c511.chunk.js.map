{"version":3,"sources":["store/actions.ts","store/index.tsx","components/DatePicker/style.tsx","components/DatePicker/Date/style.tsx","components/DatePicker/Date/index.tsx","components/DatePicker/Controls/style.tsx","components/DatePicker/Controls/index.tsx","components/DatePicker/index.tsx","index.tsx"],"names":["actions","dateChanged","createAction","dateClicked","initialState","date","startOfMonth","Date","startDate","undefined","endDate","store","createStore","state","action","produce","draft","type","getType","payload","isAfter","composeWithDevTools","useTypedSelector","useSelector","Wrapper","styled","div","DayWrapper","attrs","props","isSelected","isWithinRange","isDate","DateText","p","differentMonth","isHeading","heading","dispatch","useDispatch","sameMonth","isSameMonth","isSameDay","isBefore","onClick","format","TransparentButton","button","Controls","subMonths","addMonths","DatePicker","currentPageDate","padding","getDay","paddingDays","daysInMonth","getDaysInMonth","futureDays","prevDays","Array","fill","map","_","i","subDays","endOfMonth","days","addDays","nextDays","day","index","key","rootElement","document","getElementById","render","className"],"mappings":"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","file":"static/js/main.8919c511.chunk.js","sourcesContent":["import { ActionType, createAction } from \"typesafe-actions\";\r\n\r\nconst dateChanged = createAction(\"date changed\")<Date>();\r\nconst dateClicked = createAction(\"date clicked\")<Date>();\r\n\r\nexport const actions = {\r\n  dateChanged,\r\n  dateClicked\r\n};\r\n\r\nexport type Actions = ActionType<typeof actions>;\r\n","import { Actions, actions } from \"./actions\";\r\nimport { Reducer, createStore } from \"redux\";\r\nimport { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport produce from \"immer\";\r\nimport { getType } from \"typesafe-actions\";\r\nimport { startOfMonth, isAfter } from \"date-fns\";\r\n\r\nconst initialState = () => ({\r\n  date: startOfMonth(new Date()),\r\n  startDate: undefined as undefined | Date,\r\n  endDate: undefined as undefined | Date\r\n});\r\n\r\nexport type State = Readonly<ReturnType<typeof initialState>>;\r\n\r\nexport const rootReducer: Reducer<State, Actions> = (\r\n  state = initialState(),\r\n  action: Actions\r\n) =>\r\n  produce(state, draft => {\r\n    switch (action.type) {\r\n      case getType(actions.dateChanged):\r\n        draft.date = action.payload;\r\n        break;\r\n      case getType(actions.dateClicked):\r\n        if (draft.startDate && draft.endDate) {\r\n          draft.startDate = action.payload;\r\n          draft.endDate = undefined;\r\n        } else if (draft.startDate) {\r\n          if (draft.startDate === action.payload) {\r\n            draft.startDate = undefined;\r\n          } else {\r\n            if (isAfter(action.payload, draft.startDate)) {\r\n              draft.endDate = action.payload;\r\n            } else {\r\n              draft.endDate = draft.startDate;\r\n              draft.startDate = action.payload;\r\n            }\r\n          }\r\n        } else {\r\n          draft.startDate = action.payload;\r\n        }\r\n        break;\r\n    }\r\n  });\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools());\r\nexport const useTypedSelector: TypedUseSelectorHook<State> = useSelector;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1 auto;\r\n  width: 200px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  border: 1px solid #e1e1e1;\r\n  padding: 10px;\r\n`;\r\nexport const DayWrapper = styled.div`\r\n  height: 200px;\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  grid-template-rows: repeat(7, 1fr);\r\n  grid-column-gap: 0px;\r\n  grid-row-gap: 0px;\r\n  font-size: 0.7em;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\ntype WrapperProps = {\r\n  isSelected: boolean;\r\n  isWithinRange: boolean;\r\n  isDate: boolean;\r\n};\r\n\r\nexport const Wrapper = styled.div.attrs((props: WrapperProps) => ({}))<\r\n  WrapperProps\r\n>`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  background: ${props =>\r\n    props.isSelected ? \"#1B1B1B\" : props.isWithinRange ? \"#EBEBEB\" : undefined};\r\n  color: ${props => (props.isSelected ? \"#fff\" : \"#000\")};\r\n  opacity: ${props => (props.isSelected ? 1 : undefined)};\r\n  :hover {\r\n    background: ${props =>\r\n      !props.isSelected && props.isDate ? \"#1B1B1B\" : undefined};\r\n    color: ${props => (!props.isSelected && props.isDate ? \"#fff\" : undefined)};\r\n  }\r\n`;\r\n\r\ntype DateTextProps = {\r\n  differentMonth: boolean;\r\n  isHeading: boolean;\r\n};\r\n\r\nexport const DateText = styled.p.attrs((props: DateTextProps) => ({}))<\r\n  DateTextProps\r\n>`\r\n  opacity: ${props => (props.differentMonth && !props.isHeading ? 0.5 : 1)};\r\n  font-weight: ${props => (props.isHeading ? 600 : 0)};\r\n`;\r\n","import React from \"react\";\r\nimport { Wrapper, DateText } from \"./style\";\r\nimport { format, isSameMonth, isBefore, isAfter, isSameDay } from \"date-fns\";\r\nimport { useTypedSelector } from \"../../../store\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { actions } from \"../../../store/actions\";\r\n\r\nexport const Date: React.FC<{\r\n  heading?: string;\r\n  date?: Date;\r\n}> = ({ heading, date }) => {\r\n  const dispatch = useDispatch();\r\n  const sameMonth = useTypedSelector(state =>\r\n    date && isSameMonth(date, state.date) ? true : false\r\n  );\r\n\r\n  const isSelected = useTypedSelector(state =>\r\n    date &&\r\n    ((state.startDate && isSameDay(date, state.startDate)) ||\r\n      (state.endDate && isSameDay(date, state.endDate)))\r\n      ? true\r\n      : false\r\n  );\r\n\r\n  const isWithinRange = useTypedSelector(state =>\r\n    date &&\r\n    state.endDate &&\r\n    state.startDate &&\r\n    isBefore(date, state.endDate) &&\r\n    isAfter(date, state.startDate)\r\n      ? true\r\n      : false\r\n  );\r\n\r\n  return (\r\n    <Wrapper\r\n      isDate={date ? true : false}\r\n      isWithinRange={isWithinRange}\r\n      isSelected={isSelected}\r\n      onClick={() => (date ? dispatch(actions.dateClicked(date)) : void {})}\r\n    >\r\n      <DateText isHeading={heading ? true : false} differentMonth={!sameMonth}>\r\n        {heading ? heading : date ? format(date, \"d\") : undefined}\r\n      </DateText>\r\n    </Wrapper>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 0 10px 0;\r\n  align-items: center;\r\n\r\n  h4 {\r\n    margin: 0;\r\n    padding: 0 20px;\r\n    font-size: 0.8em;\r\n  }\r\n`;\r\n\r\nexport const TransparentButton = styled.button`\r\n  background: transparent;\r\n  cursor: pointer;\r\n  border: none;\r\n  opacity: 0.3;\r\n  transition: 0.3s;\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Wrapper, TransparentButton } from \"./style\";\r\nimport { format, subMonths, addMonths } from \"date-fns\";\r\nimport { useTypedSelector } from \"../../../store\";\r\nimport { actions } from \"../../../store/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { FaCaretLeft, FaCaretRight } from \"react-icons/fa\";\r\n\r\nexport const Controls = () => {\r\n  const dispatch = useDispatch();\r\n  const date = useTypedSelector(state => state.date);\r\n  return (\r\n    <Wrapper>\r\n      <TransparentButton\r\n        onClick={() => dispatch(actions.dateChanged(subMonths(date, 1)))}\r\n      >\r\n        <FaCaretLeft />\r\n      </TransparentButton>\r\n      <h4>{format(date, \"MMMM yyyy\")}</h4>\r\n      <TransparentButton\r\n        onClick={() => dispatch(actions.dateChanged(addMonths(date, 1)))}\r\n      >\r\n        <FaCaretRight />\r\n      </TransparentButton>\r\n    </Wrapper>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  getDaysInMonth,\r\n  startOfMonth,\r\n  getDay,\r\n  addDays,\r\n  addMonths,\r\n  subMonths,\r\n  endOfMonth,\r\n  subDays\r\n} from \"date-fns\";\r\nimport { Wrapper, DayWrapper } from \"./style\";\r\nimport { Date } from \"./Date\";\r\nimport { Controls } from \"./Controls\";\r\n\r\nexport const DatePicker: React.FC<{\r\n  currentPageDate: Date;\r\n}> = ({ currentPageDate }) => {\r\n  const dayHeadings = [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"];\r\n  const padding = getDay(startOfMonth(currentPageDate));\r\n  const paddingDays = padding > 0 ? padding - 1 : padding;\r\n  const daysInMonth = getDaysInMonth(currentPageDate);\r\n  const futureDays = 35 - paddingDays - daysInMonth;\r\n\r\n  const prevDays = Array(paddingDays)\r\n    .fill(0)\r\n    .map((_, i) =>\r\n      subDays(endOfMonth(subMonths(currentPageDate, 1)), paddingDays - i - 1)\r\n    );\r\n\r\n  const days = Array(daysInMonth)\r\n    .fill(1)\r\n    .map((_, i) => addDays(startOfMonth(currentPageDate), i));\r\n\r\n  const nextDays = Array(futureDays > 0 ? futureDays : 0)\r\n    .fill(0)\r\n    .map((_, i) => addDays(startOfMonth(addMonths(currentPageDate, 1)), i));\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Controls />\r\n      <DayWrapper>\r\n        {dayHeadings.map((day, index) => (\r\n          <Date key={index} heading={day} />\r\n        ))}\r\n        {prevDays.map(day => (\r\n          <Date date={day} />\r\n        ))}\r\n        {days.map(day => (\r\n          <Date date={day} />\r\n        ))}\r\n        {nextDays.map(day => (\r\n          <Date date={day} />\r\n        ))}\r\n      </DayWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store, useTypedSelector } from \"./store\";\r\nimport { DatePicker } from \"./components/DatePicker\";\r\n\r\nfunction App() {\r\n  const date = useTypedSelector(state => state.date);\r\n  return (\r\n    <div className=\"App\">\r\n      <DatePicker currentPageDate={date} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}